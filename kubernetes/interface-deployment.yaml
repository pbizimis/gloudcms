apiVersion: apps/v1
kind: Deployment
metadata:
  name: gloudcms-interface-deployment
  labels:
    app: gloudcms
    environment: dev
#Controller Spec (ReplicaSet)
spec:
  selector:
      matchLabels:
        app: gloudcms
        tier: frontend
  replicas: 3
  template:
    metadata:
      labels:
        app: gloudcms  
        tier: frontend
    #Pod spec
    spec:
      containers:
      - name: gloudcms-interface-container
        image: gcr.io/gloudcms/gloudcms-interface:v1.5
        ports:
         - containerPort: 8080
        env:
        - name: JWT_SECRET
          value: "2589375237898"
        - name: SECRET_KEY
          value: "7853492879352"
        - name: REDIS_IP
          value: gloudcms-redis
        - name: MONGO_IP
          value: gloudcms-mongo
        - name: RE_URL
          value: https://philipbizimis.com
        - name: OAUTHLIB_INSECURE_TRANSPORT
          value: "0"
        - name: OAUTHLIB_RELAX_TOKEN_SCOPE
          value: "0"